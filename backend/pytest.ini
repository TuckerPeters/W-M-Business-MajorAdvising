[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
asyncio_mode = auto
addopts = -v --tb=short
filterwarnings =
    ignore::DeprecationWarning:pytest_freezegun.*
    ignore::DeprecationWarning:distutils.*

# Custom markers for test categorization
markers =
    integration: marks tests as integration tests (hit real APIs, may be slow)
    firebase: marks tests that require Firebase connection (writes to real database)
    real_openai: marks tests that make real OpenAI API calls (uses tokens, skipped if no API key)
    e2e: marks tests as end-to-end tests (full server pipeline)

# Test commands:
# Run only unit tests (fast):     pytest tests/unit
# Run only integration tests:     pytest tests/integration -m integration
# Run real OpenAI tests:          pytest -m real_openai
# Run all tests:                  pytest
# Skip firebase tests:            pytest -m "not firebase"
# Skip real API tests:            pytest -m "not real_openai"
